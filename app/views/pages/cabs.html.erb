<% content_for :body_class do %>bg-neutral-950 text-white<% end %>
<% content_for :main_class do %>max-w-screen-xl mx-auto px-8 py-16<% end %>

<%
  cabs = [
    { name: "Marshall 1960A",    size: "4×12", wood: "Birch Plywood",    finish: "Black Tolex",      year: 1974, price: 1800 },
    { name: "Fender Bandmaster", size: "2×12", wood: "Pine",             finish: "Brown Tolex",      year: 1965, price: 2200 },
    { name: "Orange PPC412",     size: "4×12", wood: "Birch Plywood",    finish: "Orange Vinyl",     year: 2018, price: 900  },
    { name: "Mesa Boogie 112",   size: "1×12", wood: "Baltic Birch",     finish: "Black Vinyl",      year: 2015, price: 650  },
    { name: "Custom Tweed",      size: "2×10", wood: "Pine",             finish: "Blonde Tweed",     year: 1961, price: 3100 },
    { name: "Vox AC30 Cab",      size: "2×12", wood: "Baltic Birch",     finish: "Brown Diamond",    year: 1963, price: 4500 },
    { name: "Peavey 412MS",      size: "4×12", wood: "Particle Board",   finish: "Silver Grill",     year: 1988, price: 400  },
    { name: "Bogner Uberkab",    size: "2×12", wood: "Void-Free Birch",  finish: "Vintage Brown",    year: 2005, price: 1100 },
    { name: "Hiwatt SE4123",     size: "4×12", wood: "Birch Plywood",    finish: "Black Rexine",     year: 1971, price: 3800 },
    { name: "Dumble 1×15",       size: "1×15", wood: "Baltic Birch",     finish: "Natural Oak",      year: 1979, price: 6200 },
    { name: "Sunn 200S",         size: "2×15", wood: "Void-Free Birch",  finish: "Silver Sparkle",   year: 1969, price: 2800 },
    { name: "Soldano 4×12",      size: "4×12", wood: "Birch Plywood",    finish: "Burgundy Tolex",   year: 1993, price: 1500 },
  ]
%>

<%# Page header %>
<div class="mb-12">
  <p class="text-amber-500 text-xs tracking-widest uppercase font-medium mb-3">Marketplace</p>
  <div class="flex items-end justify-between gap-4">
    <div>
      <h1 class="text-5xl font-bold tracking-tight leading-none">Cabs</h1>
      <p class="mt-3 text-neutral-500 text-base">Vintage &amp; boutique speaker cabinets, hand-selected.</p>
    </div>
    <span class="text-neutral-600 text-sm pb-1 shrink-0"><%= cabs.length %> listings</span>
  </div>
  <div class="mt-8 h-px bg-neutral-800"></div>
</div>

<%# Filter pills - UI display %>
<div class="flex items-center gap-2 mb-10 flex-wrap">
  <% ["All", "Vintage", "Modern", "1×12", "2×12", "4×12"].each_with_index do |filter, i| %>
    <button class="<%= i == 0 ? 'bg-white text-neutral-950 font-semibold' : 'border border-neutral-800 text-neutral-500 hover:border-neutral-600 hover:text-white' %> text-xs px-4 py-1.5 rounded-full tracking-wide transition-colors duration-200">
      <%= filter %>
    </button>
  <% end %>
</div>

<%# Cabs grid %>
<div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
  <% cabs.each do |cab| %>
    <div class="group relative aspect-square bg-neutral-900 rounded-2xl overflow-hidden cursor-pointer border border-neutral-800 hover:border-neutral-700 transition-all duration-300 hover:shadow-2xl hover:shadow-black/70 hover:-translate-y-1">

      <%# Subtle inner gradient %>
      <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"></div>

      <%# Placeholder visual — speaker icon + label %>
      <div class="relative h-full flex flex-col items-center justify-center gap-4 p-8 z-10">
        <div class="text-neutral-800 group-hover:text-neutral-700 transition-colors duration-500">
          <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="28" cy="28" r="26" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="28" cy="28" r="18" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="28" cy="28" r="10" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="28" cy="28" r="4" fill="currentColor"/>
          </svg>
        </div>
        <div class="text-center">
          <p class="text-neutral-700 font-mono text-sm tracking-widest"><%= cab[:size] %></p>
          <p class="text-neutral-800 text-xs mt-1"><%= cab[:name] %></p>
        </div>
      </div>

      <%# Hover info overlay — slides up from bottom %>
      <div class="absolute inset-0 bg-neutral-950/97 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-in-out z-20 flex flex-col justify-end p-5">

        <%# Amber accent line at top of overlay %>
        <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-amber-500/70 to-transparent"></div>

        <%# Cab name %>
        <p class="text-white font-semibold text-sm mb-4 truncate"><%= cab[:name] %></p>

        <%# Specs table %>
        <div class="space-y-2.5 mb-5">
          <% { "Speaker" => cab[:size], "Wood" => cab[:wood], "Finish" => cab[:finish], "Year" => cab[:year].to_s }.each do |label, value| %>
            <div class="flex items-center justify-between gap-2">
              <span class="text-neutral-600 text-xs tracking-widest uppercase shrink-0"><%= label %></span>
              <span class="text-neutral-200 text-xs font-medium text-right"><%= value %></span>
            </div>
          <% end %>
        </div>

        <%# Price + CTA %>
        <div class="border-t border-neutral-800 pt-4 flex items-center justify-between">
          <span class="text-amber-400 text-xl font-bold tracking-tight">$<%= number_with_delimiter(cab[:price]) %></span>
          <button class="bg-white text-neutral-950 text-xs font-bold tracking-wider uppercase px-4 py-2 rounded-full hover:bg-amber-400 transition-colors duration-200">
            View
          </button>
        </div>

      </div>
    </div>
  <% end %>
</div>
